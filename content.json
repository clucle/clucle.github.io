{"meta":{"title":"clucle's blog","subtitle":"두찡의 프로그래밍","description":"두찡의 일상","author":"Dujin Jung","url":"http://clucle.github.io"},"pages":[],"posts":[{"title":"Data Binding? ButterKnife? 뭐하는 거에요?","slug":"data-binding-butterknife","date":"2017-05-10T16:18:14.000Z","updated":"2017-05-10T17:28:10.240Z","comments":true,"path":"2017/05/11/data-binding-butterknife/","link":"","permalink":"http://clucle.github.io/2017/05/11/data-binding-butterknife/","excerpt":"","text":"Data Binding과 ButterKnife, 안드로이드를 처음 접하는 사람에겐 생소한 이름일 것이다. Data Binding과 ButterKnife 안드로이드에서 데이터 바인딩를 도와주는 library이다. 안드로이드에서 데이터 바인딩이란 무엇일까? 바로 UI와 데이터간을 서로 연결하는 프로세스이다. 그렇다면 왜 이러한 라이브러리를 사용하는 것일까? 아래 라이브러리를 사용하지 않았을 때와 그렇지 않을 때의 차이점을 간단하게 살펴보자. 데이터 바인딩을 사용하지 않았을 경우라이브러리를 사용하지 않았을 때의 코드를 살펴보자. 아래 예시는 안드로이드에 처음 접할 때 만들었던 소스 중 일부를 첨부한다. source 12345678910111213141516171819202122232425262728293031323334353637383940// xml 소스 중 일부&lt;RelativeLayout android:layout_width=\"match_parent\" android:layout_height=\"0px\" android:layout_weight=\"38\" android:background=\"#8B4513\" android:orientation=\"vertical\" android:paddingBottom=\"2dp\" android:paddingLeft=\"16dp\" android:paddingRight=\"16dp\" android:paddingTop=\"2dp\"&gt; &lt;Button android:id=\"@+id/btn_add\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_alignParentStart=\"true\" android:layout_centerVertical=\"true\" android:layout_marginLeft=\"4dp\" android:text=\"Add\" android:textStyle=\"bold\" /&gt; &lt;Button android:id=\"@+id/btn_del\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_alignParentEnd=\"true\" android:layout_centerVertical=\"true\" android:layout_marginRight=\"4dp\" android:text=\"Del\" android:textStyle=\"bold\" /&gt; &lt;TextView android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_centerHorizontal=\"true\" android:layout_centerVertical=\"true\" android:text=\"Select Coffee\" android:textSize=\"18dp\" android:textStyle=\"bold\" /&gt; 12345678910111213141516171819202122232425// activity 소스 중 일부Button btnReset;Button btnAdd;Button btnDel;@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.your_view); btnReset = findViewById(R.id.btn_reset); btnAdd = findViewById(R.id.btn_add); btnDel = findViewById(R.id.btn_del); btnReset.setOnClickListener(mClickListener); btnAdd.setOnClickListener(mClickListener); btnDel.setOnClickListener(mClickListener);&#125;Button.OnClickListener mClickListener = new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; //pass &#125;&#125;; 소스를 보기만 해도 답답하다. class 내부에서 변수를 선언해주고 id를 가져와서 연결해주고 listener를 연결한다. 하나의 element마다 3줄을 써야되는 것이다. 그렇다면 이와 같은 것을 제거하기 위해 라이브러리를 사용한다면 어떻게 될까? -- ButterKnife를 사용하였을 경우이 글의 작성 시점 2017-05-11 에는 버터나이프보다 Data Binding이 좀 더 좋은 평을 얻고있다. android 자체적으로 지원하는 라이브러리에 Data Binding이 추가되어 있는 상태이다. ButterKnife로 소스를 간결하게 하는 법을 소개한다. 사용하는 소스는 ButterKnife 공식 홈페이지 ButterKnife을 참고하자. 1. gradle setting app의 build.gradle에 다음 소스를 추가한다. 우리가 주목해야 하는 부분은 아래와 같다. apply plugin: ‘android-apt’compile ‘com.jakewharton:butterknife:8.5.1’apt ‘com.jakewharton:butterknife-compiler:8.5.1’ testCompile ‘junit:junit:4.12’ 12345678910111213141516// app\\build.gradle 중 일부apply plugin: 'android-apt'dependencies &#123; compile fileTree(dir: 'libs', include: ['*.jar']) androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', &#123; exclude group: 'com.android.support', module: 'support-annotations' &#125;) compile 'com.android.support:appcompat-v7:25.3.1' compile 'com.android.support.constraint:constraint-layout:1.0.2' compile 'com.jakewharton:butterknife:8.5.1' apt 'com.jakewharton:butterknife-compiler:8.5.1' testCompile 'junit:junit:4.12'&#125; project의 build.gradle에 다음 소스를 추가한다. 우리가 주목해야 할 부분은 아래와 같다. classpath ‘com.neenbedankt.gradle.plugins:android-apt:1.8’ 12345678910111213// build.gradle 중 일부buildscript &#123; repositories &#123; jcenter() &#125; dependencies &#123; classpath 'com.android.tools.build:gradle:2.3.1' classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8' // NOTE: Do not place your application dependencies here; they belong // in the individual module build.gradle files &#125;&#125; 2. example아래 소스를 보면 ButterKnife.bind(this);라는 부분에서 지금 사용하는 Activity의 layout(xml)에 해당하는 부분을 바인딩하고 @BindView에서 id를 연결해 주는 모습이다. 이는 class 내부에서 사용할 때 변수 선언을 해주고 안드로이드의 생명 주기상 onCreate할 때 데이터를 바인딩 해줘야하는 두줄의 소스를 한줄로 줄이는 것으로 볼 수 있다. 123456789101112class ExampleActivity extends Activity &#123; @BindView(R.id.title) TextView title; @BindView(R.id.subtitle) TextView subtitle; @BindView(R.id.footer) TextView footer; @Override public void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.simple_activity); ButterKnife.bind(this); // TODO Use fields... &#125;&#125; 아래와 같이 여러 view의 listener도 bind한번으로 가능하게 한다.12345678@OnClick(&#123; R.id.door1, R.id.door2, R.id.door3 &#125;)public void pickDoor(DoorView door) &#123; if (door.hasPrizeBehind()) &#123; Toast.makeText(this, \"You win!\", LENGTH_SHORT).show(); &#125; else &#123; Toast.makeText(this, \"Try again\", LENGTH_SHORT).show(); &#125;&#125; -- Data Binding 사용하였을 경우Data Binding은 AndroidSDK에서 지원하기 때문에 공식 API문서를 참고한다 Data Binding 1. gradle setting app의 build.gradle에 다음 소스를 추가한다. 1234567// app\\build.gradle 중 일부android &#123; .... dataBinding &#123; enabled = true &#125;&#125; 2. example아래 xml파일에서 기존 xml과 다른 부분을 찾자면 tag와 tag와 android:text=”@{user.firstName}” 이 될 것이다. Data Binding을 사용하기 위해서는 LinearLayout과 같은 사용자의 View를 으로 감싸고 그 뒤에 data요소와 view요소를 추가한다. 레이아웃 내에서 @{}를 통해서 속성을 불러올 수 있다. 1234567891011121314151617&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt; &lt;data&gt; &lt;variable name=\"user\" type=\"com.example.User\"/&gt; &lt;/data&gt; &lt;LinearLayout android:orientation=\"vertical\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt; &lt;TextView android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"@&#123;user.firstName&#125;\"/&gt; &lt;TextView android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"@&#123;user.lastName&#125;\"/&gt; &lt;/LinearLayout&gt;&lt;/layout&gt; 12345678public class User &#123; public final String firstName; public final String lastName; public User(String firstName, String lastName) &#123; this.firstName = firstName; this.lastName = lastName; &#125;&#125; 이제 activity에서 바인딩을 해주면 된다.1234567@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); MainActivityBinding binding = DataBindingUtil.setContentView(this, R.layout.main_activity); User user = new User(\"Test\", \"User\"); binding.setUser(user);&#125; 더 자세한 내용은 위에 링크한 안드로이드 공식 문서를 찾아보면 된다. Data Binding, ButterKnife 후기 데이터 바인딩을 해주는 것으로 소스를 좀더 간결하게 사용 할 수 있다. 아직까지는 버터나이프를 사용하고 있는데, Data Binding도 익숙해지도록 노력해야겠다.","categories":[],"tags":[{"name":"android","slug":"android","permalink":"http://clucle.github.io/tags/android/"}]},{"title":"Hexo를 이용한 GitHub Blog 만들기","slug":"My-New-Post","date":"2017-04-20T16:46:44.000Z","updated":"2017-04-27T13:17:56.629Z","comments":true,"path":"2017/04/21/My-New-Post/","link":"","permalink":"http://clucle.github.io/2017/04/21/My-New-Post/","excerpt":"","text":"Hexo란 간편하게 만들 수 있는 블로그 프레임 워크다. 더 많은 정보는 공식 홈페이지 Hexo 에서 볼 수 있다. Hexo로 블로그를 만드는 방법을 소개 하려 글을 쓴다. Hexo를 사용해서 깃에 블로그를 만들기 위해서는 github 계정이 있어야 하고, node가 깔려한다. 링크를 타고 가서 nodejs를 다운받을 수 있다. github Repository 만들기GitHub 에서는 GitHub Repository에서 웹을 호스팅 할수 있는 기능을 제공 한다. 더 많은 정보는 공식 홈페이지 GitHub Pages 에서 볼 수 있다. 우선 Repository를 만들어야 한다. 이미 주소가 있기 때문에 빨간 경고창이 나오지만 처음이라면 경고창이 나오지 않을테니 [username].github.io 로 Repository로 만들면 된다. Public, Private는 블로그에는 영향을 주지 않는다. 이제 Create repository를 눌러서 Repository를 생성한다. Hexo 설치Hexo를 설치하기 위해 윈도우에서는 Git 에서 다운받을 수 있는 GitBash를 사용할 것이다. 링크 한 홈페이지에 들어가서 Download를 하고 끝가지 설치 하면 GitBash가 깔릴 것이다. 아래는 gitbash 화면이다. 이제 hexo를 다음 명령어를 입력해서 설치한다. git bash에서 가만히 멈춰 있는 것 처럼 보여도 다운받는 과정이다.1$ npm install -g hexo-cli 아래는 설치가 완료된 모습이다. 이제 다운받은 hexo를 이용해서 블로그의 내용이 담길 폴더를 생성하고 초기화 해준다.1$ hexo init (your_blog_name) 아래는 초기화가 완료된 모습이다. hexo init 까지 마치면 명령을 실행한 폴더 안에 (your_blog_name) 이라는 폴더가 생긴다. 이 폴더에 들어가서 로컬에서 hexo가 어떻게 보여지는지 확인 할 수 있다. hexo server를 실행 후 localhost:4000 으로 들어가서 확인해보자.12$ cd your_blog_name$ hexo server Deploy 설정하기Deployt란 배포를 뜻하고 방금 로컬에서 테스트한 서버를 github 블로그에 들어갔을 때 보여지게 하는 과정이다. Hexo에서는 Deploy기능을 제공해 주는데 우리는 위에서 만든 github Repository 주소를 지정해주면 Deploy시 자동으로 commit 과 push가 되면서 블로그가 갱신된다. 그래서 개인 설정을 해야하는데 개인 설정은 (your_blog_name)의 _config.yml 을 수정하면 된다.1$ vi _config.yml 우리가 수정할 부분은 #Site, #URL, #Deployment 이다. #Site 에서는 title에 블로그 제목, subtitle에 문구, description에 설명, author에 이름, language에 언어를 적어준다. 이 부분은 홈페이지에 보이는 내용들을 수정 할 수 있다. #URL 에서는 url 부분을 github Repository의 git 주소를 적어둔다 https://github.com/[username]/[username].github.io.git #Deployment 에서는 github주소와 어떤 브랜치에 올릴지 정하는데 우린 master브랜치로 하면 된다. GitHub에 Deploy하기이제 설정은 마쳤고 github에 배포만 해주면 된다. 배포를 하기 위해서 hexo-deploy-git을 설치한다. 작업하고 있던 (your_blog_name) 폴더 안에서 명령어를 실행한다.1$ npm install --save hexo-deployer-git 설치를 마친 후 배포하는 명령을 실행한다.12$ hexo generate$ hexo deploy deploy 후 [username].github.io 에 들어가면 GitHub Blog가 완성된다. Hexo 후기 블로그 포스팅은 github에 저장 되지만 블로그 내용을 담고 있는 폴더 (your_blog_name) 을 따로 관리해 주어야 한다. 블로그 테마 바꾸는 법은 후에 포스팅 하겠다.","categories":[],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://clucle.github.io/tags/Hexo/"}]},{"title":"Hello World","slug":"hello-world","date":"2017-04-20T05:45:41.170Z","updated":"2017-04-20T05:31:18.617Z","comments":true,"path":"2017/04/20/hello-world/","link":"","permalink":"http://clucle.github.io/2017/04/20/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}